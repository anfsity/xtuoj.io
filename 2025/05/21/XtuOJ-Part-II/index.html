<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">

    

    <!-- 渲染优化 -->
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="HandheldFriendly" content="True" >
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!--icon-->

    
    
    
    
    


    <!-- meta -->


<title>XtuOJ Part II | AnfsityのXtuOj-Solution</title>


    <meta name="keywords" content="Alogrithm">




    <!-- OpenGraph -->
 
    <meta name="description" content="Index Index 最小化 加一 删除 Cow 分段 菱形 字符矩阵 矩形 积 数组  最小化 最小化  1234567891011121314151617181920212223242526272829303132333435#include&lt;stdio.h&gt;char num[1010];int main()&#123;    int T;    scanf(&quot;%d&amp;q">
<meta property="og:type" content="article">
<meta property="og:title" content="XtuOJ Part II">
<meta property="og:url" content="https://anfsity.github.io/xtuoj.io/2025/05/21/XtuOJ-Part-II/index.html">
<meta property="og:site_name" content="AnfsityのXtuOj-Solution">
<meta property="og:description" content="Index Index 最小化 加一 删除 Cow 分段 菱形 字符矩阵 矩形 积 数组  最小化 最小化  1234567891011121314151617181920212223242526272829303132333435#include&lt;stdio.h&gt;char num[1010];int main()&#123;    int T;    scanf(&quot;%d&amp;q">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.111666.best/image/ZNAILjvpc2cdIQWz6zLpXV.png">
<meta property="article:published_time" content="2025-05-21T09:48:31.000Z">
<meta property="article:modified_time" content="2025-05-21T09:48:59.970Z">
<meta property="article:author" content="Anfsity">
<meta property="article:tag" content="Alogrithm">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://i.111666.best/image/ZNAILjvpc2cdIQWz6zLpXV.png">


    
<link rel="stylesheet" href="/xtuoj.io/css/style/main.css">
 

    
    
        <link rel="stylesheet" id="hl-default-theme" href="/xtuoj.io/css/highlight/highlight.css" media="none" >
        
    

    
    

    
    
<link rel="stylesheet" href="/xtuoj.io/css/style/dark.css">

    
<script src="/xtuoj.io/js/darkmode.js"></script>



     

    <!-- custom head -->

<meta name="generator" content="Hexo 7.3.0"></head>

    <body>
        <div id="app" tabindex="-1">
            <header class="header">
    <div class="header__left">
        <a href="/xtuoj.io/" class="button">
            <span class="logo__text">AnfsityのXtuOj-Solution</span>
        </a>
    </div>
    <div class="header__right">
        
            <div class="navbar__menus">
                
                    <a href="/xtuoj.io/" class="navbar-menu button">首页</a>
                
                    <a href="/xtuoj.io/tags/" class="navbar-menu button">标签</a>
                
                    <a href="/xtuoj.io/archives/" class="navbar-menu button">归档</a>
                
            </div>
        
        
        
    <a href="/xtuoj.io/search/" id="btn-search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="24" height="24" fill="currentColor" stroke="currentColor" stroke-width="32"><path d="M192 448c0-141.152 114.848-256 256-256s256 114.848 256 256-114.848 256-256 256-256-114.848-256-256z m710.624 409.376l-206.88-206.88A318.784 318.784 0 0 0 768 448c0-176.736-143.264-320-320-320S128 271.264 128 448s143.264 320 320 320a318.784 318.784 0 0 0 202.496-72.256l206.88 206.88 45.248-45.248z"></path></svg>
    </a>


        
        
    <a href="javaScript:void(0);" id="btn-toggle-dark">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
    </a>


        
            <a class="dropdown-icon button" id="btn-dropdown" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"><path fill="currentColor" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path></svg></a>
            <div class="dropdown-menus" id="dropdown-menus">
                
                    <a href="/xtuoj.io/" class="dropdown-menu button">首页</a>
                
                    <a href="/xtuoj.io/tags/" class="dropdown-menu button">标签</a>
                
                    <a href="/xtuoj.io/archives/" class="dropdown-menu button">归档</a>
                
            </div>
        
    </div>
</header>


            <main class="main">
    

<div class="post-title">
    <h1 class="post-title__text">
        XtuOJ Part II
    </h1>
    <div class="post-title__meta">
        <a href="/xtuoj.io/archives/2025/05/" class="post-meta__date button">2025-05-21</a>
        
 
        
    
    


 

 
    </div>
</div>


    <aside class="post-side">
        <div class="post-side__toc">
            
        </div>
    </aside>
    <a class="btn-toc button" id="btn-toc" tabindex="0">
        <svg viewBox="0 0 1024 1024" width="32" height="32" xmlns="http://www.w3.org/2000/svg">
            <path d="M128 256h64V192H128zM320 256h576V192H320zM128 544h64v-64H128zM320 544h576v-64H320zM128 832h64v-64H128zM320 832h576v-64H320z" fill="currentColor"></path>
        </svg>
    </a>
    <div class="toc-menus" id="toc-menus">
        <div class="toc-title">Article Directory</div>
        
    </div>


<article class="post post__with-toc content-card">
    <div class="post__header"></div>
    <div class="post__content">
        <h1 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h1><ul>
<li><a href="#index">Index</a></li>
<li><a href="#%E6%9C%80%E5%B0%8F%E5%8C%96">最小化</a></li>
<li><a href="#%E5%8A%A0%E4%B8%80">加一</a></li>
<li><a href="#%E5%88%A0%E9%99%A4">删除</a></li>
<li><a href="#cow">Cow</a></li>
<li><a href="#%E5%88%86%E6%AE%B5">分段</a></li>
<li><a href="#%E8%8F%B1%E5%BD%A2">菱形</a></li>
<li><a href="#%E5%AD%97%E7%AC%A6%E7%9F%A9%E9%98%B5">字符矩阵</a></li>
<li><a href="#%E7%9F%A9%E5%BD%A2">矩形</a></li>
<li><a href="#%E7%A7%AF">积</a></li>
<li><a href="#%E6%95%B0%E7%BB%84">数组</a></li>
</ul>
<h1 id="最小化"><a href="#最小化" class="headerlink" title="最小化"></a>最小化</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1012&pid=1">最小化</a></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> num[<span class="number">1010</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n,k;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,num);</span><br><span class="line">        <span class="keyword">if</span>(num[<span class="number">0</span>]==<span class="string">&#x27;1&#x27;</span>) k++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n&amp;&amp;k&gt;<span class="number">1</span>;i++,k--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num[i]==<span class="string">&#x27;0&#x27;</span>||num[i]==num[<span class="number">0</span>])&#123;</span><br><span class="line">                k++;<span class="comment">//当num等于第一个或者等于零时，不改变k值</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)&#123;<span class="comment">//进入筛子，把相同的数字标记筛除</span></span><br><span class="line">                <span class="keyword">if</span>(num[j]==num[i])&#123;</span><br><span class="line">                    num[j]=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                num[i]=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;<span class="comment">//最后处理第一个值，如果提前处理，会破坏筛的过程</span></span><br><span class="line">            <span class="keyword">if</span>(num[i]==num[<span class="number">0</span>]) num[i]=<span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        num[<span class="number">0</span>]=<span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>) num[<span class="number">0</span>]=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="加一"><a href="#加一" class="headerlink" title="加一"></a>加一</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1012&pid=2">加一</a></li>
</ul>
<p>举个例子</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">              *                 </span></span><br><span class="line"><span class="comment">              *</span></span><br><span class="line"><span class="comment">              * *</span></span><br><span class="line"><span class="comment">              * *</span></span><br><span class="line"><span class="comment">              * *   *       </span></span><br><span class="line"><span class="comment">    *         * *   *       </span></span><br><span class="line"><span class="comment">*   *   *     * *   *       </span></span><br><span class="line"><span class="comment">* * *   *     * * * * *     </span></span><br><span class="line"><span class="comment">* * * * *   * * * * * *     </span></span><br><span class="line">3 2 4 1 3 0 1 9 7 2 5 2 </span><br></pre></td></tr></table></figure>

<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">              *             0+3    </span></span><br><span class="line"><span class="comment">              *</span></span><br><span class="line"><span class="comment">              * *</span></span><br><span class="line"><span class="comment">              * *</span></span><br><span class="line"><span class="comment">              * *   *       </span></span><br><span class="line"><span class="comment">    *         * *   *       </span></span><br><span class="line"><span class="comment">*   *   * * * * *   *       </span></span><br><span class="line"><span class="comment">* * *   * * * * * * * *     </span></span><br><span class="line"><span class="comment">* * * * * * * * * * * *     </span></span><br><span class="line">3 2 4 1 3 0 1 9 7 2 5 2 </span><br></pre></td></tr></table></figure>

<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">              *             1+3</span></span><br><span class="line"><span class="comment">              *</span></span><br><span class="line"><span class="comment">              * *</span></span><br><span class="line"><span class="comment">              * *</span></span><br><span class="line"><span class="comment">              * *   *       </span></span><br><span class="line"><span class="comment">    * * * * * * *   *       </span></span><br><span class="line"><span class="comment">*   * * * * * * *   *       </span></span><br><span class="line"><span class="comment">* * * * * * * * * * * *     </span></span><br><span class="line"><span class="comment">* * * * * * * * * * * *     </span></span><br><span class="line">3 2 4 1 3 0 1 9 7 2 5 2 </span><br></pre></td></tr></table></figure>

<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">* * * * * * * *             2+7</span></span><br><span class="line"><span class="comment">* * * * * * * *</span></span><br><span class="line"><span class="comment">* * * * * * * * *</span></span><br><span class="line"><span class="comment">* * * * * * * * *</span></span><br><span class="line"><span class="comment">* * * * * * * * *   *       </span></span><br><span class="line"><span class="comment">* * * * * * * * *   *       </span></span><br><span class="line"><span class="comment">* * * * * * * * *   *       </span></span><br><span class="line"><span class="comment">* * * * * * * * * * * *     </span></span><br><span class="line"><span class="comment">* * * * * * * * * * * *   </span></span><br><span class="line">3 2 4 1 3 0 1 9 7 2 5 2 </span><br></pre></td></tr></table></figure>

<p>对于7 2 5 2 ，理解成为边界的外面，存在一个max&#x3D;9</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">* * * * * * * *         *    情况和之前是一样的</span></span><br><span class="line"><span class="comment">* * * * * * * *         *</span></span><br><span class="line"><span class="comment">* * * * * * * * *       *</span></span><br><span class="line"><span class="comment">* * * * * * * * *       *</span></span><br><span class="line"><span class="comment">* * * * * * * * *   *   *    </span></span><br><span class="line"><span class="comment">* * * * * * * * *   *   *    </span></span><br><span class="line"><span class="comment">* * * * * * * * *   *   *    </span></span><br><span class="line"><span class="comment">* * * * * * * * * * * * *    </span></span><br><span class="line"><span class="comment">* * * * * * * * * * * * *   </span></span><br><span class="line">3 2 4 1 3 0 1 9 7 2 5 2 9</span><br></pre></td></tr></table></figure>

<p>然后就是观察规律了，或者直接模拟这个过程</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> num[<span class="number">10010</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n,max=<span class="number">-1e9</span>;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> cnt=<span class="number">0</span>;<span class="comment">/* 注意long long */</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num[i]);</span><br><span class="line">            <span class="keyword">if</span>(max&lt;num[i]) max=num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            num[i]=max-num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        cnt=num[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num[i+<span class="number">1</span>]&gt;num[i]) cnt+=num[i+<span class="number">1</span>]-num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,cnt);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1012&pid=6">删除</a></li>
</ul>
<p>据说是签到题，所谓让我来就是签个到就走的题<br>归属于贪心，这个题很有意思，难度颇高，但是想出来后，其实也就那样，归属于思维题吧<br>下面对代码给出证明<br>首先证明升序(降序)必可压缩</p>
<p>对于三个数<br>$$<br>a_{1} \leq a_{2} \leq a_{3}<br>$$<br>有<br>$$<br>a_{2} - a_{1} \geq k \ a_{3} - a_{2} \geq k<br>$$<br>要证明<br>$$<br>\lfloor \frac{a_{1}+a_{2}}{2} \rfloor  + k \geq \lfloor \frac{\lfloor \frac{a_{1}+a_{2}}{2} \rfloor + a_{3}}{2} \rfloor<br>$$<br>成立，先变形成<br>$$<br>\lfloor \frac{a_{1}+a_{2}}{2} + k \rfloor \geq \lfloor \frac{\lfloor \frac{a_{1}+a_{2}}{2} \rfloor + a_{3}}{2} \rfloor<br>$$<br>要证上式，先证下式成立，即<br>$$<br>\frac{a_{1}+a_{2}}{2} + k \geq \frac{\lfloor \frac{a_{1}+a_{2}}{2} \rfloor + a_{3}}{2}<br>$$<br>即<br>$$<br>a_{1}+a_{2} + 2k \geq \lfloor \frac{a_{1}+a_{2}}{2} \rfloor + a_{3}<br>$$<br>即<br>$$<br>2k \geq \lfloor \frac{a_{1}+a_{2}}{2} \rfloor -a_{1} + a_{3} - a_{2}<br>$$<br>因为<br>$$<br>a_{2} \geq \frac{a_{1}+a{2}}{2} \geq \lfloor \frac{a_{1}+a{2}}{2} \rfloor \geq a_{1}<br>$$<br>则上式放缩为<br>$$<br>2k \geq a_{2}-a_{1}+a_{3}-a_{2}<br>$$<br>为题设条件，故原式成立，单调下降时同理可证</p>
<p>然后证明，该从小到大处理得到的值是最大的<br><img src="https://i.111666.best/image/ZNAILjvpc2cdIQWz6zLpXV.png" class="lazy" data-srcset="https://i.111666.best/image/ZNAILjvpc2cdIQWz6zLpXV.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="image"><br>怎么理解这个呢</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">对于max数组和min数组，是从小到大，从大到小处理的</span><br><span class="line">如果每个max数组和min数组里储存的是当前(前i个)情况的最大值(最小值)，那么就有：</span><br><span class="line">如果max[i]和 min[i+1]的差不超过k，那么可以将前i个数合并成max[i]，后n-i个数合并成 min[i+1]</span><br><span class="line">然后将它们合并成一个新的数</span><br></pre></td></tr></table></figure>

<p>代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[<span class="number">100010</span>];</span><br><span class="line"><span class="type">int</span> max[<span class="number">100010</span>];</span><br><span class="line"><span class="type">int</span> min[<span class="number">100010</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> sup=<span class="number">1000000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* a,<span class="type">const</span> <span class="type">void</span>* b)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *(<span class="type">int</span> *)a-*(<span class="type">int</span> *)b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">getMax</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> k)</span>&#123;</span><br><span class="line">    max[<span class="number">0</span>]=arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(max[i<span class="number">-1</span>]+k&lt;arr[i])&#123;</span><br><span class="line">            <span class="keyword">while</span>(i&lt;n) max[i++]=sup;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            max[i]=(arr[i]+max[i<span class="number">-1</span>])/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">getMin</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> k)</span>&#123;</span><br><span class="line">    min[n<span class="number">-1</span>]=arr[n<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=n<span class="number">-2</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(min[i+<span class="number">1</span>]-k&gt;arr[i])&#123;</span><br><span class="line">            <span class="keyword">while</span>(i&gt;=<span class="number">0</span>) min[i--]=-sup;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            min[i]=(arr[i]+min[i+<span class="number">1</span>])/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n,k,i=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    qsort(arr,n,<span class="keyword">sizeof</span>(<span class="type">int</span>),cmp);</span><br><span class="line">    getMax(n,k);</span><br><span class="line">    getMin(n,k);</span><br><span class="line">    <span class="keyword">if</span>(min[<span class="number">0</span>]!=-sup||max[n<span class="number">-1</span>]!=sup) <span class="built_in">puts</span>(<span class="string">&quot;Yes&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">abs</span>(max[i]-min[i+<span class="number">1</span>])&lt;=k)&#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">&quot;Yes&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i==n<span class="number">-1</span>) <span class="built_in">puts</span>(<span class="string">&quot;No&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Cow"><a href="#Cow" class="headerlink" title="Cow"></a>Cow</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1012&pid=4">Cow</a></li>
</ul>
<p>思路不难，但一直过不了，应该是统计方式的问题<br>错误原因竟是： 他看错题目了！！！</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> min(a,b) (a&lt;b?a:b)</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> cnt[<span class="number">300</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *a,<span class="type">const</span> <span class="type">void</span> *b)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *(<span class="type">int</span> *)b-*(<span class="type">int</span> *)a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n,m,p,k,ans=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;p,&amp;k);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;p;i++)&#123;</span><br><span class="line">            <span class="type">int</span> x1,y1,x2,y2;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2);</span><br><span class="line">            <span class="keyword">if</span>(x1==x2)&#123;</span><br><span class="line">                <span class="keyword">if</span>(cnt[min(y1,y2)]==<span class="number">0</span>) ans++;</span><br><span class="line">                cnt[min(y1,y2)]++;<span class="comment">//x相等的话，分割y</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(cnt[<span class="number">101</span>+min(x1,x2)]==<span class="number">0</span>) ans++;</span><br><span class="line">                <span class="comment">//把x和y放在一个数组，省去了合并数组排序的麻烦，一步到位</span></span><br><span class="line">                cnt[<span class="number">101</span>+min(x1,x2)]++;<span class="comment">//y相等的话，分割x</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        qsort(cnt,<span class="number">300</span>,<span class="keyword">sizeof</span>(<span class="type">int</span>),cmp);<span class="comment">//从大到小排序</span></span><br><span class="line">        <span class="keyword">if</span>(ans&lt;=k) <span class="built_in">printf</span>(<span class="string">&quot;0 %d\n&quot;</span>,ans);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line">                sum+=cnt[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,p-sum);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(cnt,<span class="number">0</span>,<span class="keyword">sizeof</span>(cnt));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="分段"><a href="#分段" class="headerlink" title="分段"></a>分段</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1008&pid=7">分段</a><br>简单，注意全部为零的情况</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100010</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> num[N];</span><br><span class="line"><span class="type">int</span> fac[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* a,<span class="type">const</span> <span class="type">void</span> *b)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *(<span class="type">int</span> *)a-*(<span class="type">int</span> *)b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n,sum=<span class="number">0</span>,index=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num[i]);</span><br><span class="line">        sum+=num[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i*i&lt;=sum;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(sum%i==<span class="number">0</span>) fac[index++]=i;</span><br><span class="line">        <span class="keyword">if</span>(i!=sum/i) fac[index++]=sum/i;</span><br><span class="line">    &#125;</span><br><span class="line">    qsort(fac,index,<span class="keyword">sizeof</span>(<span class="type">int</span>),cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=index;i++)&#123;<span class="comment">/* 注意，如果不是i&lt;=index，那么当输入全为0时，将无法输出，所以要加上=进行特判 */</span></span><br><span class="line">        <span class="type">int</span> cnt=<span class="number">0</span>,temp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            temp+=num[j];</span><br><span class="line">            <span class="keyword">if</span>(temp==fac[i]) cnt++,temp=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(temp&gt;fac[i]) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt*fac[i]==sum)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,fac[i]);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="菱形"><a href="#菱形" class="headerlink" title="菱形"></a>菱形</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1013&pid=6">菱形</a><br>找规律，我讨厌找规律</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> canvas[<span class="number">23</span>][<span class="number">23</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> <span class="title function_">rhombus</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">	canvas[x][y]=<span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">	canvas[x][y+<span class="number">1</span>]=<span class="string">&#x27;\\&#x27;</span>;</span><br><span class="line">	canvas[x+<span class="number">1</span>][y]=<span class="string">&#x27;\\&#x27;</span>;</span><br><span class="line">	canvas[x+<span class="number">1</span>][y+<span class="number">1</span>]=<span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span>  n;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n),n)&#123;</span><br><span class="line">		<span class="type">int</span> m,i,j,k;</span><br><span class="line">		<span class="keyword">for</span>(m=<span class="number">1</span>;m*m&lt;n;m++);</span><br><span class="line">		<span class="built_in">memset</span>(canvas,<span class="string">&#x27; &#x27;</span>,<span class="keyword">sizeof</span>(canvas));</span><br><span class="line">		<span class="keyword">for</span>(i=k=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;=i;j++)&#123;</span><br><span class="line">				rhombus(i,m-i<span class="number">-1</span>+j*<span class="number">2</span>);<span class="comment">//菱形的偏移量</span></span><br><span class="line">				<span class="keyword">if</span>(++k==n) <span class="keyword">goto</span> end;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m<span class="number">-1</span>;i++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m-i<span class="number">-1</span>;j++)&#123;</span><br><span class="line">				rhombus(m+i,<span class="number">1</span>+i+j*<span class="number">2</span>);</span><br><span class="line">				<span class="keyword">if</span>(++k==n) <span class="keyword">goto</span> end;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		end:</span><br><span class="line">			<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">2</span>*m+<span class="number">1</span>;i++)&#123;</span><br><span class="line">				<span class="keyword">for</span>(j=<span class="number">2</span>*m+<span class="number">1</span>;j&gt;=<span class="number">0</span>&amp;&amp;canvas[i][j]==<span class="string">&#x27; &#x27;</span>;j--);</span><br><span class="line">				canvas[i][j+<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">				<span class="keyword">if</span>(j==<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">				<span class="built_in">puts</span>(canvas[i]);</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="字符矩阵"><a href="#字符矩阵" class="headerlink" title="字符矩阵"></a>字符矩阵</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1013&pid=7">字符矩阵</a><br>给出证明：</li>
</ul>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-4 -3 -2 -1  0   |  0 -1 -2 -3 -4 </span><br><span class="line">-3 -2 -1  0  1   |  1  0 -1 -2 -3</span><br><span class="line">-2 -1  0  1  2   |  2  1  0 -1 -2</span><br><span class="line">-1  0  1  2  3   |  3  2  1  0 -1</span><br><span class="line"> 0  1  2  3  4   |  4  3  2  1  0</span><br><span class="line">   i+j-n+1       |       i-j</span><br><span class="line">可以发现，这两个矩阵是对称的</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0 1 2 1 0</span><br><span class="line">1 0 1 0 1</span><br><span class="line">2 1 0 1 2</span><br><span class="line">1 0 1 0 1</span><br><span class="line">0 1 2 1 0</span><br><span class="line">min(|i-j|,|i+j-n+1|)</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">min</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> x&lt;y?x:y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">char</span> c;</span><br><span class="line">	<span class="keyword">while</span>((c= getchar())!=<span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">		getchar();</span><br><span class="line">		<span class="type">int</span> i,j,n,x,y,d;</span><br><span class="line">		n=(c-<span class="string">&#x27;A&#x27;</span>+<span class="number">1</span>)*<span class="number">2</span><span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;n;j++) &#123;</span><br><span class="line">				x=<span class="built_in">abs</span>(j-i);</span><br><span class="line">				y=<span class="built_in">abs</span>(i+j-n+<span class="number">1</span>);</span><br><span class="line">				d=min(x, y);</span><br><span class="line">				<span class="built_in">putchar</span>(c-d);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="矩形"><a href="#矩形" class="headerlink" title="矩形"></a>矩形</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1015&pid=5">矩形</a></li>
</ul>
<p>我还是太菜了。。。。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">ll a[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* a,<span class="type">const</span> <span class="type">void</span> *b)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *(ll *)a-*(ll *)b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll <span class="title function_">cnt</span><span class="params">(<span class="type">int</span> size,<span class="type">int</span> area)</span>&#123;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>,j=size<span class="number">-1</span>;</span><br><span class="line">    ll ans=<span class="number">0</span>,t;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;j)&#123;</span><br><span class="line">        t=area/a[i];</span><br><span class="line">        <span class="keyword">while</span>(j&gt;=<span class="number">0</span>&amp;&amp;a[j]&gt;t) j--;<span class="comment">//找到最大的满足小于area的数组下标</span></span><br><span class="line">        <span class="keyword">if</span>(j&gt;i) ans+=j-i;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">shrink</span><span class="params">(<span class="type">int</span> size)</span>&#123;<span class="comment">//去重</span></span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>,j=<span class="number">1</span>;j&lt;size;j++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;size&amp;&amp;a[j]==a[i]) j++;<span class="comment">//一个用来查找，一个用作下标</span></span><br><span class="line">        <span class="keyword">if</span>(j&lt;size) a[++i]=a[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">square</span><span class="params">(<span class="type">int</span> size,ll L,ll R)</span>&#123;<span class="comment">//计算正方形数量</span></span><br><span class="line">    <span class="type">int</span> i,j,ans=<span class="number">0</span>;</span><br><span class="line">    ll s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>,j=<span class="number">1</span>;j&lt;size;j++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;size&amp;&amp;a[i]==a[j]) j++;<span class="comment">//找到相同情况的最后一个下标</span></span><br><span class="line">        <span class="keyword">if</span>(j-i&gt;<span class="number">1</span>)&#123;<span class="comment">//如果有正方形就进入</span></span><br><span class="line">            s=<span class="number">1LL</span>*a[i]*a[i];</span><br><span class="line">            <span class="keyword">if</span>(s&gt;=L&amp;&amp;s&lt;=R) ans++;</span><br><span class="line">            <span class="keyword">if</span>(s&gt;R) <span class="keyword">return</span> ans;<span class="comment">//因为是从小到大排序的，大于就说明就算后面存在正方形，也不会满足</span></span><br><span class="line">        &#125;</span><br><span class="line">        i=j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n,i;</span><br><span class="line">    ll L,R,ans;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%lld%lld&quot;</span>,&amp;n,&amp;L,&amp;R);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,a+i);</span><br><span class="line">    qsort(a,n,<span class="keyword">sizeof</span>(ll),cmp);</span><br><span class="line">    ans=square(n,L,R);</span><br><span class="line">    n=shrink(n);</span><br><span class="line">    ans+=cnt(n,R)-cnt(n,L<span class="number">-1</span>);<span class="comment">//思路太清楚了QAQ</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="积"><a href="#积" class="headerlink" title="积"></a>积</h1><p>QAQ，一直在debug，思路不清楚，代码丑陋，如果有更好的解法，一定要拿过来看</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1015&pid=7">积</a></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span>  ll;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 10010</span></span><br><span class="line"></span><br><span class="line">ll a[N],b[N],c[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *a,<span class="type">const</span> <span class="type">void</span> *b)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *(ll *)a-*(ll *)b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll <span class="title function_">mod</span><span class="params">(ll a)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a%(<span class="number">1000000007</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n,k,index_b=<span class="number">0</span>,index_c=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]);</span><br><span class="line">            <span class="keyword">if</span>(a[i]&lt;<span class="number">0</span>) b[index_b++]=a[i];</span><br><span class="line">            <span class="keyword">else</span> c[index_c++]=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        qsort(b,index_b,<span class="keyword">sizeof</span>(ll),cmp);</span><br><span class="line">        qsort(c,index_c,<span class="keyword">sizeof</span>(ll),cmp);</span><br><span class="line">        <span class="comment">/* index_b+index_c==k */</span></span><br><span class="line">        <span class="keyword">if</span>(index_b+index_c==k)&#123;</span><br><span class="line">            ll ans=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(k) ans*=a[--n],k--,ans=mod(ans);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* 全为正数 */</span></span><br><span class="line">        <span class="keyword">if</span>(index_b&lt;<span class="number">2</span>)&#123;</span><br><span class="line">            ll ans=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(index_c,k) ans*=c[--index_c],k--,ans=mod(ans);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* 全为负数 */</span></span><br><span class="line">        <span class="keyword">if</span>(index_c==<span class="number">0</span>)&#123;</span><br><span class="line">            ll ans=<span class="number">1</span>,i=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(k%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">while</span>(i&lt;k) ans*=b[i++],ans=mod(ans);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">while</span>(index_b,k) ans*=b[--index_b],k--,ans=mod(ans);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* 有正有负 */</span></span><br><span class="line">        <span class="type">int</span> left=<span class="number">0</span>,right=index_c<span class="number">-1</span>;</span><br><span class="line">        ll ans=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(k)&#123;</span><br><span class="line">            <span class="keyword">if</span>(k%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">while</span>(k)&#123;</span><br><span class="line">                    ll x=<span class="number">0</span>,y=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">if</span>(right<span class="number">-2</span>&gt;=<span class="number">-1</span>) y=c[right]*c[right<span class="number">-1</span>];</span><br><span class="line">                    <span class="keyword">if</span>(left+<span class="number">2</span>&lt;=index_b) x=b[left]*b[left+<span class="number">1</span>];</span><br><span class="line">                    ans=mod(ans);</span><br><span class="line">                    <span class="keyword">if</span>(x&gt;y) x=mod(x),ans*=x,left+=<span class="number">2</span>;</span><br><span class="line">                    <span class="keyword">else</span> y=mod(y),ans*=y,right-=<span class="number">2</span>;</span><br><span class="line">                    ans=mod(ans);</span><br><span class="line">                    k-=<span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                k--;</span><br><span class="line">                ans*=mod(c[right--]);</span><br><span class="line">                ans=mod(ans);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>找老师要了一份思路清楚的码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="type">const</span> <span class="type">size_t</span> N = <span class="number">100011</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">long</span> <span class="type">long</span> mod = <span class="number">1e9</span><span class="number">+7</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;a,<span class="type">const</span> <span class="type">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> std::<span class="built_in">abs</span>(a) &lt; std::<span class="built_in">abs</span>(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">min</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">	std::<span class="built_in">sort</span>(a,a+n,cmp);</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> ans = <span class="number">1LL</span>;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;k;i++) ans = ans * a[i] % mod;</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">max</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> i,j;</span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> t1,t2,ans=<span class="number">1LL</span>;</span><br><span class="line">	std::<span class="built_in">sort</span>(a,a+n);</span><br><span class="line">	i = <span class="number">0</span>, j = n<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">if</span>(k&amp;<span class="number">1</span>)	ans *= a[j--];</span><br><span class="line">	<span class="keyword">if</span>(ans &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">for</span>(k&gt;&gt;=<span class="number">1</span>;k;k--)&#123;</span><br><span class="line">		t1 = <span class="number">1LL</span> * a[i] * a[i<span class="number">+1</span>];</span><br><span class="line">		t2 = <span class="number">1LL</span> * a[j] * a[j<span class="number">-1</span>];</span><br><span class="line">		<span class="keyword">if</span>(t1 &lt; t2) &#123;			</span><br><span class="line">			ans = ans * (t2 % mod) % mod;</span><br><span class="line">			j-=<span class="number">2</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;			</span><br><span class="line">			ans = ans * (t1 % mod) % mod;</span><br><span class="line">			i+=<span class="number">2</span>;</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> n,k,i;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,a+i);</span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> t;</span><br><span class="line">	t = <span class="built_in">max</span>(n,k);	</span><br><span class="line">	<span class="keyword">if</span>(t &lt; <span class="number">0</span>) t = <span class="built_in">min</span>(n,k);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> T;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">	<span class="keyword">while</span>(T--) <span class="built_in">solve</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><ul>
<li><a target="_blank" rel="noopener" href="https://oj.xtu.edu.cn/problem.php?cid=1015&pid=6">数组</a></li>
</ul>
<p>第一次体验到被卡常，wc，太痛苦了</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100010</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">ll a[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *a,<span class="type">const</span> <span class="type">void</span> *b)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *(ll *)a-*(ll *)b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> <span class="title function_">init</span><span class="params">(ll n,ll m)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">2</span>;i&lt;n;i++)&#123;</span><br><span class="line">        a[i]=(a[i<span class="number">-1</span>]+a[i<span class="number">-2</span>])%m;</span><br><span class="line">    &#125;</span><br><span class="line">    qsort(a,n,<span class="keyword">sizeof</span>(ll),cmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll <span class="title function_">solve</span><span class="params">(ll n,ll max)</span>&#123;</span><br><span class="line">    ll ans=<span class="number">0</span>,j=n<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;=j&amp;&amp;a[i]+a[j]&gt;max) j--;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;=j) ans+=j-i+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    ll T,n,m,l,r,ans;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld %lld %lld %lld %lld %lld&quot;</span>,&amp;n,&amp;a[<span class="number">0</span>],&amp;a[<span class="number">1</span>],&amp;m,&amp;l,&amp;r);</span><br><span class="line">        init(n,m);</span><br><span class="line">        ans=solve(n,r)-solve(n,l<span class="number">-1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    </div>
     
    <div class="post-footer__meta"><p>updated at 2025-05-21</p></div> 
    <div class="post-entry__tags"><a href="/xtuoj.io/tags/Alogrithm/" class="post-tags__link button"># Alogrithm</a></div> 
</article>


    <div class="nav">
        <div class="nav__prev">
            
                <a href="/xtuoj.io/2025/05/21/Class-Test/" class="nav__link">
                    <div>
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M589.088 790.624L310.464 512l278.624-278.624 45.248 45.248L400.96 512l233.376 233.376z" fill="#808080"></path></svg>
                    </div>
                    <div>
                        <div class="nav__label">
                            Previous Post
                        </div>
                        <div class="nav__title">
                            Class Test
                        </div>
                    </div>
                </a>
            
        </div>
        <div class="nav__next">
            
                <a href="/xtuoj.io/2025/05/21/XtuOJ-0x11/" class="nav__link">
                    <div>
                        <div class="nav__label">
                            Next Post
                        </div>
                        <div class="nav__title">
                            XtuOJ 0x11
                        </div>
                    </div>
                    <div>
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M434.944 790.624l-45.248-45.248L623.04 512l-233.376-233.376 45.248-45.248L713.568 512z" fill="#808080"></path></svg>
                    </div>
                </a>
            
        </div>
    </div>





</main>

            <footer class="footer">
     
    <a href="#" class="button" id="b2t" aria-label="Back to Top" title="Back to Top">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M233.376 722.752L278.624 768 512 534.624 745.376 768l45.248-45.248L512 444.128zM192 352h640V288H192z" fill="currentColor"></path>
        </svg>
    </a>

    


    
     
 

 
    
        
        <p class="footer-copyright">
            Copyright © 2025 <a href="/xtuoj.io/">AnfsityのXtuOj-Solution</a>
        </p>
    
    
        
            <p><a href="https://icp.gov.moe/?keyword=20254154" target="_blank">萌ICP备20254154号</a></p>

        
    
    <p>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" target="_blank">Cards</a></p>
</footer>

        </div>
        
    <script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
    <script>
        window.lazyLoadOptions = {
            elements_selector: ".lazy",
            threshold: 0
        };
    </script>
 

 

 

 

 



 



 


    
 


    
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>

    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.4.1/dist/jquery.fancybox.min.css">

    
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.4.1/dist/jquery.fancybox.min.js"></script>

    <script>
        let lazyloadT = Boolean('true'),
            auto_fancybox = Boolean('false')
        if (auto_fancybox) {
            $(".post__content").find('img').each(function () {
                var element = document.createElement("a");
                $(element).attr("data-fancybox", "gallery");
                $(element).attr("href", $(this).attr("src"));
                if (lazyloadT) {
                    $(element).attr("href", $(this).attr("data-srcset"));
                }
                $(this).wrap(element);
            });
        } else {
            $(".post__content").find("fancybox").find('img').each(function () {
                var element = document.createElement("a");
                $(element).attr("data-fancybox", "gallery");
                $(element).attr("href", $(this).attr("src"));
                if (lazyloadT) {
                    $(element).attr("href", $(this).attr("data-srcset"));
                }
                $(this).wrap(element);
            });
        }
    </script>
 

 

 

 

 




    </body>
</html>
